model Transaction {
    id                  String                         @id @default(auto()) @map("_id") @db.ObjectId
    accountId           String                         @db.ObjectId
    customerId          String                         @db.ObjectId
    amount              Int
    status              Status
    paymentProviderInfo TransactionPaymentProviderInfo?
    createdAt           DateTime                       @default(now())
    updatedAt           DateTime                       @updatedAt

    account  Account  @relation(fields: [accountId], references: [id])
    customer Customer @relation(fields: [customerId], references: [id])

    @@index([accountId])
}

type Status {
    current StatusValue
    history HistoryType[]
}

type HistoryType {
    value     StatusValue
    createdAt DateTime
}

enum StatusValue {
    PENDING
    SUCCESS
    FAILED
}

type TransactionPaymentProviderInfo {
    id String
}
